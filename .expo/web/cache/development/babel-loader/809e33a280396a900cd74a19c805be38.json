{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = withNavigationFocus;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\n\nvar _withNavigation = _interopRequireDefault(require(\"./withNavigation\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction withNavigationFocus(Component) {\n  var ComponentWithNavigationFocus = function (_React$Component) {\n    (0, _inherits2.default)(ComponentWithNavigationFocus, _React$Component);\n\n    var _super = _createSuper(ComponentWithNavigationFocus);\n\n    function ComponentWithNavigationFocus() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, ComponentWithNavigationFocus);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"state\", {\n        isFocused: _this.props.navigation.isFocused()\n      });\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(ComponentWithNavigationFocus, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var navigation = this.props.navigation;\n        this.subscriptions = [navigation.addListener('willFocus', function () {\n          return _this2.setState({\n            isFocused: true\n          });\n        }), navigation.addListener('willBlur', function () {\n          return _this2.setState({\n            isFocused: false\n          });\n        })];\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this$subscriptions;\n\n        (_this$subscriptions = this.subscriptions) === null || _this$subscriptions === void 0 ? void 0 : _this$subscriptions.forEach(function (sub) {\n          return sub.remove();\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(Component, _extends({}, this.props, {\n          isFocused: this.state.isFocused,\n          ref: this.props.onRef\n        }));\n      }\n    }]);\n    return ComponentWithNavigationFocus;\n  }(React.Component);\n\n  _defineProperty(ComponentWithNavigationFocus, \"displayName\", \"withNavigationFocus(\".concat(Component.displayName || Component.name, \")\"));\n\n  return (0, _hoistNonReactStatics.default)((0, _withNavigation.default)(ComponentWithNavigationFocus, {\n    forwardRef: false\n  }), Component);\n}","map":{"version":3,"sources":["withNavigationFocus.js"],"names":["React","Component","isFocused","componentDidMount","navigation","componentWillUnmount","sub","render","onRef","hoistStatics","withNavigation","forwardRef"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,SAAA,mBAAA,CAAA,SAAA,EAAwC;EAAA,IACrD,4BADqD;IAAA;;IAAA;;IACM,wCAAA;MAAA;;MAAA;;MAAA,kCAAA,IAAA;QAAA,IAAA;MAAA;;MAAA,gDAAA,IAAA;;MAAA,eAAA,8CAAA,OAAA,EAKjD;QACNE,SAAS,EAAE,MAAA,KAAA,CAAA,UAAA,CAAA,SAAA;MADL,CALiD,CAAA;;MAAA;IAAA;;IADN;MAAA;MAAA,OAUnDC,6BAAoB;QAAA;;QAClB,IAAQC,UAAR,GAAuB,KAAvB,KAAA,CAAQA,UAAR;QAEA,KAAA,aAAA,GAAqB,CACnB,UAAU,CAAV,WAAA,CAAA,WAAA,EAAoC;UAAA,OAClC,MAAA,CAAA,QAAA,CAAc;YAAEF,SAAS,EAAE;UAAb,CAAd,CADkC;QAAA,CAApC,CADmB,EAInB,UAAU,CAAV,WAAA,CAAA,UAAA,EAAmC;UAAA,OACjC,MAAA,CAAA,QAAA,CAAc;YAAEA,SAAS,EAAE;UAAb,CAAd,CADiC;QAAA,CAAnC,CAJmB,CAArB;MAQD;IArBkD;MAAA;MAAA,OAuBnDG,gCAAuB;QAAA,IAAA,mBAAA;;QACrB,CAAA,mBAAA,GAAA,KAAA,aAAA,MAAA,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,mBAAA,CAAA,OAAA,CAA6BC,UAAAA,GAAD;UAAA,OAASA,GAAG,CAAxC,MAAqCA,EAAT;QAAA,CAA5B,CAAA;MACD;IAzBkD;MAAA;MAAA,OA2BnDC,kBAAS;QACP,OACE,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,EACM,KADN,KAAA,EAAA;UAEE,SAAS,EAAE,KAAA,KAAA,CAFb,SAAA;UAGE,GAAG,EAAE,KAAA,KAAA,CAAWC;QAHlB,CAAA,CAAA,CADF;MAOD;IAnCkD;IAAA;EAAA,EACVR,KAAK,CAAhD,SADqD;;EAAA,eAAA,CAAA,4BAAA,EAAA,aAAA,EAAA,uBAAA,MAAA,CAGjDC,SAAS,CAATA,WAAAA,IAAyBA,SAAS,CAHe,IAAA,EAAA,GAAA,CAAA,CAAA;;EAsCrD,OAAOQ,IAAAA,6BAAAA,EACLC,IAAAA,uBAAAA,EAAc,4BAAdA,EAA6C;IAAEC,UAAU,EAAE;EAAd,CAA7CD,CADKD,EAAP,SAAOA,CAAP;AAID","sourcesContent":["import * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport withNavigation from './withNavigation';\n\nexport default function withNavigationFocus(Component) {\n  class ComponentWithNavigationFocus extends React.Component {\n    static displayName = `withNavigationFocus(${\n      Component.displayName || Component.name\n    })`;\n\n    state = {\n      isFocused: this.props.navigation.isFocused(),\n    };\n\n    componentDidMount() {\n      const { navigation } = this.props;\n\n      this.subscriptions = [\n        navigation.addListener('willFocus', () =>\n          this.setState({ isFocused: true })\n        ),\n        navigation.addListener('willBlur', () =>\n          this.setState({ isFocused: false })\n        ),\n      ];\n    }\n\n    componentWillUnmount() {\n      this.subscriptions?.forEach((sub) => sub.remove());\n    }\n\n    render() {\n      return (\n        <Component\n          {...this.props}\n          isFocused={this.state.isFocused}\n          ref={this.props.onRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(\n    withNavigation(ComponentWithNavigationFocus, { forwardRef: false }),\n    Component\n  );\n}\n"]},"metadata":{},"sourceType":"script"}